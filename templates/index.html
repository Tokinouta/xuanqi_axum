<html>

<head>
  <meta charset="utf-8">
  <title>ä¸»é¡µ-ç¬¬äºŒå¤§è„‘</title>
  <link rel="apple-touch-icon" href="/static/apple-touch-icon-å¤§é›†åˆï¼ï¼ˆæ­å»ºæ¡Œé¢ç”¨ï¼‰/å°æ—å®¶çš„é¾™å¥³ä»†2/apple-touch-icon.png">
  <link rel="shortcut icon" href="/static/favicon.ico">
  <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha256-93wNFzm2GO3EoByj9rKZCwGjAJAwr0nujPaOgwUt8ZQ=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-vue@2.21.2/dist/bootstrap-vue.min.css"
    integrity="sha256-cAyk5KZc7P6j7j/uL7MOoN4PRsZYp+BN9yo03Y6Qk38=" crossorigin="anonymous">
  <style>
    html {background-color: rgb(209, 0, 35);}
    body {
      border-top: 5px solid rgb(223, 1, 1);
      background-image: linear-gradient(rgb(207, 122, 66), rgb(209, 0, 35));
      max-width: 100%;
      overflow-x: hidden;
    }

    .NOBORDER {
      box-shadow: none;
      padding: 2px 0px;
    }

    .vertical_center {
      margin-top: 25px;
      transform: translateY(-50%);
    }

    a { text-decoration: none; color: black;}
    a:hover { color: rgb(67, 27, 1);}

    playground-entrance {
      border-radius: 25px;
      border: 2px solid rgb(116, 43, 43);
      display: inline-block;
      text-align: center;
      vertical-align: middle;
      width: 280px;height: 86px;margin: 4px;
      background-image: linear-gradient(rgb(253, 218, 129), rgb(242, 255, 0))
    }
    playground-text {
      padding: 20px 1px;
      display: inline-block;
      line-height: 35px;
      font-family: "Fira Sans", serif;
      font-size: 20px;
    }

    playground-entrance:hover {
      box-shadow: 1px 1px 15px rgb(253, 223, 133);
      background-image: linear-gradient(rgb(255, 236, 233), rgb(255, 186, 174))
    }

    playground-entrance:active {
      box-shadow: 1px 1px 20px rgb(234, 181, 48);
      background-image: linear-gradient(rgb(243, 172, 124), rgba(255, 138, 165))
    }
    .disableEnt{
      color: white;
      background-image: linear-gradient(rgb(88, 20, 8), rgb(43, 21, 17))
    }
    .superEnt{
      background-image: linear-gradient(rgb(255, 255, 255), rgb(242, 255, 0), rgb(242, 255, 0), rgb(255, 174, 0))
    }
    playground-entrance.disableEnt:hover {color: black;}
  </style>
</head>

<body>
  <div id="app">
    <!-- â†“æ ‡é¢˜æ ã€‚ -->
    <div style="border-bottom: 5px solid #e87b00;">
      <b-navbar toggleable="lg" type="light" variant="warning" class="NOBORDER">
        <b-navbar-brand class="NOBORDER" style="font-family: serif;font-size: 24px;font-weight: 500;">&nbsp;&nbsp;&nbsp;ç½‘ç«™ç»¼åˆ</b-navbar-brand>

        <b-navbar-toggle target="nav-collapse"></b-navbar-toggle>

        <b-collapse id="nav-collapse" is-nav style="padding: 0px 10px 0px 10px;">

          <!-- Right aligned nav items -->
          <b-navbar-nav class="ml-auto">
            <b-nav-item-dropdown right>
              <!-- Using 'button-content' slot -->
              <template #button-content>
                <em>
                  <span v-if="! isLoggedIn">ç™»å½•/æ³¨å†Œ</span>
                  <span v-if="isLoggedIn">å·²ç™»å½• | æˆ‘çš„è´¦æˆ·</span>
                  <svg viewBox="785 321 40 40" width="19px" height="19px" class="align-text-bottom">
                    <g id="Canvas_1" stroke="none" stroke-opacity="1" fill="none" stroke-dasharray="none"
                      fill-opacity="1">
                      <title>Canvas 1</title>
                      <g id="Canvas_1_Layer_1">
                        <title>Layer 1</title>
                        <g id="Graphic_2">
                          <title>Account Circle</title>
                          <path
                            d="M 805 321 C 793.96 321 785 329.96 785 341 C 785 352.04 793.96 361 805 361 C 816.04 361 825 352.04 825 341 C 825 329.96 816.04 321 805 321 Z M 805 327 C 808.32 327 811 329.68 811 333 C 811 336.32 808.32 339 805 339 C 801.68 339 799 336.32 799 333 C 799 329.68 801.68 327 805 327 Z M 805 355.4 C 800 355.4 795.58 352.84 793 348.96 C 793.06 344.98 801 342.8 805 342.8 C 808.98 342.8 816.94 344.98 817 348.96 C 814.42 352.84 810 355.4 805 355.4 Z"
                            fill="#633" />
                        </g>
                      </g>
                    </g>
                  </svg>
                </em>
              </template>
              <!-- <b-dropdown-item v-if="isLoggedIn" href="/account-info">åŸºæœ¬ä¿¡æ¯</b-dropdown-item> -->
              <b-dropdown-item v-if="isLoggedIn" @click="logout">é€€å‡ºç™»å½•</b-dropdown-item>
              <b-dropdown-item v-if="! isLoggedIn" @click="$bvModal.show('bv-modal-login')">ç™»å½•</b-dropdown-item>
              <b-dropdown-item v-if="! isLoggedIn" @click="$bvModal.show('bv-modal-signup')">æ³¨å†Œæ–°ç”¨æˆ·</b-dropdown-item>
            </b-nav-item-dropdown>
          </b-navbar-nav>
        </b-collapse>
      </b-navbar>
    </div>

    <div style="padding: 17px;">
      <a href="/findwords/" target="_blank"><playground-entrance style="display:inline-block;">
        <playground-text>ğŸ‚ç‚¹å‡»è®¿é—®é€å­—è¯åˆ—è¡¨æŸ¥è¯¢</playground-text>
      </playground-entrance></a><br>
      <a href="/syntax/" target="_blank"><playground-entrance style="display:inline-block;">
        <playground-text>ğŸ¤–ç‚¹å‡»è®¿é—®æ–‡æ³•æ³¨ç–</playground-text>
      </playground-entrance></a><br>
      <a href="https://open.wudaoai.com/" target="_blank"><playground-entrance style="display:inline-block;">
        <playground-text style="padding: 10px 0px;line-height:normal">ğŸ±æ‚Ÿé“ç»­å†™<br>ï¼ˆè¿›å…¥ä½“éªŒä¸­å¿ƒç»­å†™ï¼‰</playground-text>
      </playground-entrance></a><br>
      <a href="/storageManager/" target="_blank"><playground-entrance class="superEnt" style="display:inline-block;border: 3px solid #ff9900;font-weight: bold;">
        <playground-text style="padding: 10px 0px;line-height:normal">ğŸµè®°å¿†å®«æ®¿<br>ï¼ˆåŸğŸ€ä»“å‚¨ç®¡ç†ï¼‰</playground-text>
      </playground-entrance></a><br>
      <a href="/storageManager/%E4%BA%8B%E4%BB%B6%E7%AE%A1%E7%90%86ToDo" target="_blank"><playground-entrance style="display:inline-block;">
        <playground-text>ğŸ¥˜Todo Listäº‹ä»¶ç®¡ç†</playground-text>
      </playground-entrance></a><br>
      <a style="display:inline-block;height:30px;"></a><br>
      <a href="/clipboard" target="_blank"><playground-entrance style="display:inline-block;">
        <playground-text>ğŸ“‹clipboard å‰ªè´´æ¿ç®¡ç†</playground-text>
      </playground-entrance></a>
      <a href="/GPTwrite/" target="_blank"><playground-entrance style="display:inline-block;">
        <playground-text>ğŸ±GPTç»­å†™</playground-text>
      </playground-entrance></a><br>
      <a href="/AlignService/" target="_blank"><playground-entrance class="disableEnt" style="display:inline-block;">
        <playground-text style="padding: 10px 0px;line-height:normal">ğŸ•â€ğŸ¦ºAlign Service<br>æ™ºèƒ½è‡ªåŠ¨åˆ†ç±»</playground-text>
      </playground-entrance></a>
      <a href="/Shared-Editing-Proposal" target="_blank"><playground-entrance class="disableEnt" style="display:inline-block;">
        <playground-text style="padding: 10px 0px;line-height:normal">ğŸ§©Shared-Editing-Proposal<br>å…±äº«ç¼–è¾‘åº“</playground-text>
      </playground-entrance></a>
      <a href="/simwords/" target="_blank"><playground-entrance class="disableEnt" style="display:inline-block;">
        <playground-text>ğŸ“™ç‚¹å‡»è®¿é—®ä½³è¾è°±</playground-text>
      </playground-entrance></a>
      <a href="/Website-Manage-Interface/" target="_blank"><playground-entrance style="display:inline-block;">
        <playground-text>ğŸ—œï¸ç‚¹å‡»è®¿é—®ç½‘ç«™ç®¡ç†</playground-text>
      </playground-entrance></a>
    </div>
    <!-- <div class="row" style="padding: 206px 0 0;">
      <div class="col-4" style="background-color:ffffff;">
        {% include "å¹¿å‘Šä»£ç .html" %}
      </div>
      <div class="col-4" style="background-color:ffffff;">
        {% include "å¹¿å‘Šä»£ç .html" %}
      </div>
      <div class="col-4" style="background-color:ffffff;">
        {% include "å¹¿å‘Šä»£ç .html" %}
      </div>
    </div> -->

    <!-- â†“æ³¨å†Œmodalã€‚ -->
    <b-modal id="bv-modal-signup" hide-footer @show="entershoulddefault = true" @hide="entershoulddefault = false">
      <b-overlay :show="busy_connecting_backend" rounded="sm">
        <template #modal-title>
          æ³¨å†Œ<code>æ–°ç”¨æˆ·</code>
        </template>
        <div class="d-block text-center">
          <h3>Hello! æ¬¢è¿æ¥åˆ°ä½³è¾è°±~~~</h3>
          <span style="color: #e87b00;">æœ¬ç½‘ç«™æ”¯æŒç”¨æˆ·åå¯†ç æ³¨å†Œç™»å½•ã€‚<br>ç”¨æˆ·åå¯†ç æ³¨å†Œéœ€ä¿å­˜å¦¥å–„å¯†ç ï¼Œç½‘ç«™ä¸æä¾›æ‰¾å›ï¼Œå¯†ç ä¸¢å¤±è´¦æˆ·ä½™é¢å°†æ— æ³•è¿½å›ã€‚</span>
          <br>
          <b-form-input v-model="signup_username" type="username" placeholder="è¾“å…¥ç‹¬ä¸€æ— äºŒçš„ ç”¨æˆ·å~"></b-form-input><br>
          <b-form-input v-model="signup_password" type="password" name="password" id="password" placeholder="å¯†ç "></b-form-input><br>
          <b-form-input v-model="signup_pwdconfirm" type="password" autocomplete="new-password" placeholder="å†æ¬¡ç¡®è®¤ å¯†ç "></b-form-input>
        </div>
        <b-button class="mt-3" block @click="signup">æ³¨å†Œ</b-button>
        <b-button class="mt-3" variant="danger" block @click="$bvModal.hide('bv-modal-signup')">å–æ¶ˆ</b-button>
      </b-overlay>
    </b-modal>
    <!-- â†“ç™»å½•modalã€‚ -->
    <b-modal id="bv-modal-login" hide-footer @show="entershoulddefault = true" @hide="entershoulddefault = false">
      <b-overlay :show="busy_connecting_backend" rounded="sm">
        <template #modal-title>
          <code>ç”¨æˆ·ç™»å½•</code>
        </template>
        <div class="d-block text-center">
          <h3>Hello! æ¬¢è¿ç™»å½•ä½³è¾è°±~~~</h3>
          <br>
          <b-form-input v-model="signup_username" type="username" placeholder="è¾“å…¥ç”¨æˆ·å~"></b-form-input><br>
          <b-form-input v-model="signup_password" type="password" placeholder="å¯†ç "></b-form-input><br>
        </div>
        <b-button class="mt-3" block @click="login(3)">ç™»å½•(ä¸å—ä¿¡)<br>ã€éå¸¸ç”¨/å…¬å…±/ä¸å®‰å…¨è®¾å¤‡é€‚ç”¨ã€‘ã€æœ‰æ•ˆæœŸ3åˆ†é’Ÿã€‘</b-button>
        <b-button class="mt-3" variant="success" block @click="login(10080)">ç™»å½•<br>ã€å¸¸ç”¨è®¾å¤‡é€‚ç”¨ã€‘ã€æœ‰æ•ˆæœŸ7å¤©ã€‘</b-button>
        <b-button class="mt-3" variant="danger" block @click="$bvModal.hide('bv-modal-login')">å–æ¶ˆ</b-button>
      </b-overlay>
    </b-modal>
  </div>


  <script src="https://cdn.jsdelivr.net/npm/axios@0.21.1/dist/axios.min.js"
    integrity="sha256-JLmknTdUZeZZ267LP9qB+/DT7tvxOOKctSKeUC2KT6E=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"
    integrity="sha256-kXTEJcRFN330VirZFl6gj9+UM6gIKW195fYZeR3xDhc=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap-vue@2.21.2/dist/bootstrap-vue.min.js"
    integrity="sha256-duDNIhfVrUK7HB/57nPLxN/j92aM3rhTUFzVI/H5ex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jssha@2.3.1/src/sha256.js"
    integrity="sha256-NyuvLfsvfCfE+ceV6/W19H+qVp3M8c9FzAgj72CW39w=" crossorigin="anonymous"></script>
  <script type="text/javascript">
        isLoading = false
    var app = new Vue({
      el: '#app',
      data: {
        isLoggedIn: {{ self.is_logged_in }},
        busy_connecting_backend: false,
        isQueryingBackend: false,
        entershoulddefault: false,
        query_txt: '',
        last_query_txt: '',
        signup_username: '',
        signup_password: '',
        signup_pwdconfirm: ''
      },
      methods: {
        signup: function () {
          if (this.signup_username.length < 2) { window.alert("ç”¨æˆ·åé•¿åº¦ä¸å¾—å°äº2ä½ï¼Œè¯·é‡æ–°è¾“å…¥ï¼"); return; }
          if (this.signup_password.length < 5) { window.alert("å¯†ç é•¿åº¦ä¸å¾—å°äº5ä½ï¼Œè¯·é‡æ–°è¾“å…¥ï¼"); return; }
          if (this.signup_password != this.signup_pwdconfirm) { window.alert("ä¸¤æ¬¡å¯†ç è¾“å…¥ä¸ä¸€è‡´ï¼Œè¯·æ£€æŸ¥è¾“å…¥ï¼"); return; }
          this.busy_connecting_backend = true
          console.log("sign up.", this.signup_username, this.signup_password, this.signup_pwdconfirm);
          var hashObj = new jsSHA("SHA-256", "TEXT", { numRounds: 1 });
          hashObj.update(this.signup_username + this.signup_password + "salter2333");
          var hash = hashObj.getHash("HEX");
          console.log('generated login auth:', hash);
          axios.post('/sign-up', {
            username: this.signup_username,
            auth: hash,
          }).then(function (response) {
            // console.log(response);
            // console.log(response.data);
            signup_state = response.data;
            app.busy_connecting_backend = false;
            if (signup_state == 'conflict_username') { window.alert("æ‚¨çš„ç”¨æˆ·åå·²è¢«ä»–äººå ç”¨ï¼Œè¯·é‡æ–°è¾“å…¥ï¼\nï¼ˆæ¨èä½¿ç”¨å¾®ä¿¡ç™»å½•é¿å…ç”¨æˆ·åå†²çªï¼‰"); return; }
            app.$bvModal.hide('bv-modal-signup');
            window.alert("å·²æ³¨å†ŒæˆåŠŸï¼\nè¯·ç­‰å¾…è‡ªåŠ¨ç™»å½•");
            app.login();
          }).catch(function (error) {
            console.log(error);
          })
        },
        login: function (remember_mins) {
          if (this.signup_username.length < 2) { window.alert("ç”¨æˆ·åé•¿åº¦ä¸å¾—å°äº2ä½ï¼Œè¯·é‡æ–°è¾“å…¥ï¼"); return; }
          if (this.signup_password.length < 5) { window.alert("å¯†ç é•¿åº¦ä¸å¾—å°äº5ä½ï¼Œè¯·é‡æ–°è¾“å…¥ï¼"); return; }
          console.log("log in.");
          var hashObj = new jsSHA("SHA-256", "TEXT", { numRounds: 1 });
          hashObj.update(this.signup_username + this.signup_password + "salter2333");
          var hash = hashObj.getHash("HEX");
          console.log('generated login auth:', hash, 'connecting to backend...');
          this.busy_connecting_backend = true;
          axios.post('/log-in', {
            username: this.signup_username,
            auth: hash,
            remember_mins: remember_mins,
            time: ''+(new Date)+(new Date).getMilliseconds()
          }).then(function (response) {
            // console.log(response);
            // console.log(response.data);
            login_state = response.data;
            app.busy_connecting_backend = false;
            if (login_state != 'ok') {
              if (login_state == 'already_logged_in') { window.alert("å½“å‰ç”¨æˆ·å·²ç»ç™»å½•ã€‚å‡ºç°æ­¤æç¤ºåº”ä¸ºå‰ç«¯é”™è¯¯ï¼Œè¯·æ‚¨åˆ·æ–°ç½‘é¡µã€‚"); return; }
              if (login_state == 'nosignup') { window.alert("å½“å‰ç”¨æˆ·å°šæœªæ³¨å†Œã€‚è¯·æ‚¨å…ˆæ³¨å†Œå“Ÿ~"); return; }
              window.alert("ç™»å½•å¤±è´¥ï¼Œåº”æ˜¯ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ã€‚è¯·æ£€æŸ¥è¾“å…¥~\næœªæ³¨å†Œéœ€å…ˆæ³¨å†Œã€‚"); return;
            }
            app.$bvModal.hide('bv-modal-login');
            app.isLoggedIn = true;
            window.alert("ç™»å½•æˆåŠŸï¼");
          }).catch(function (error) {
            console.log(error);
          })
        },
        logout: function () {
          console.log("log out.");
          axios.post('/log-out', {}).then(function (response) {
            app.isLoggedIn = false;
            window.alert("é€€å‡ºç™»å½•æˆåŠŸï¼");
          }).catch(function (error) {
            console.log(error);
          })
        },
      }
    })
  </script>
</body>

</html>
